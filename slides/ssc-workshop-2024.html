<!DOCTYPE html>
<html lang="en"><head>
<script src="ssc-workshop-2024_files/libs/clipboard/clipboard.min.js"></script>
<script src="ssc-workshop-2024_files/libs/quarto-html/tabby.min.js"></script>
<script src="ssc-workshop-2024_files/libs/quarto-html/popper.min.js"></script>
<script src="ssc-workshop-2024_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="ssc-workshop-2024_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="ssc-workshop-2024_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="ssc-workshop-2024_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="ssc-workshop-2024_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.450">

  <title>How to create and distribute R packages</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="ssc-workshop-2024_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="ssc-workshop-2024_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="ssc-workshop-2024_files/libs/revealjs/dist/theme/quarto.css">
  <link href="ssc-workshop-2024_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="ssc-workshop-2024_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="ssc-workshop-2024_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="ssc-workshop-2024_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">How to create and distribute <code>R</code> packages</h1>

<div class="quarto-title-authors">
</div>

</section>
<section id="welcome" class="title-slide slide level1 center">
<h1>Welcome!</h1>
<p>Let’s introduce ourselves…</p>
<div class="fragment fade-left">
<div id="fig-team" class="quarto-layout-panel">
<figure>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 25.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/photo_katie.jpg" width="200"></p>
<figcaption>Katie Burak</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 25.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/photo_daniel.jpg" width="200"></p>
<figcaption>Daniel Chen</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 25.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/photo_alexi.jpg" width="200"></p>
<figcaption><a href="https://alexrod.netlify.app">G. Alexi Rodríguez-Arelis</a></figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 25.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/timbers_2021.jpg" width="200"></p>
<figcaption>Tiffany Timbers</figcaption>
</figure>
</div>
</div>
</div>
<p></p><figcaption>Figure&nbsp;1: Teaching team</figcaption><p></p>
</figure>
</div>
</div>
</section>

<section>
<section id="what-is-an-r-package-and-when-should-i-make-one" class="title-slide slide level1 center">
<h1>What is an <code>R</code> package and when should I make one?</h1>

<img data-src="img/panda.png" style="width:10.0%" class="r-stretch quarto-figure-center"></section>
<section id="this-question-is-key" class="title-slide slide level2 center">
<h2>This question is key!</h2>
<div>
<ul>
<li class="fragment">An <code>R</code> package is central to generating <span style="color: purple;">reproducible code</span></li>
<li class="fragment">It allows us to call functions whenever we need them in our data wrangling and/or analysis</li>
<li class="fragment">Its functions are expected to be reproducible code and <span style="color: purple;">adequately documented</span> (even with some <span style="color: purple;">sample data</span>!)</li>
</ul>
</div>
</section>

<section id="lets-start-with-our-toy-example" class="title-slide slide level2 center">
<h2>Let’s start with our toy example</h2>
<div>
<ul>
<li class="fragment">Suppose that, <span style="color: purple;">in your everyday analysis</span>, you are usually coding the distribution of observations over the classes (i.e., categories) of a given variable in your dataset</li>
<li class="fragment">Moreover, you would like to <span style="color: purple;">automate</span> this process and <span style="color: purple;">share</span> your work!</li>
</ul>
</div>
</section>

<section id="this-is-an-specific-example-of-your-everyday-process" class="title-slide slide level2 center">
<h2>This is an specific example of your everyday process</h2>
<ul>
<li>The code below is counting how many cars in <code>mtcars</code> (composed of 32 observations) have <code>4</code>, <code>6</code>, and <code>8</code> cylinders</li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb1" data-code-line-numbers="|3|4|5|6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">library</span>(tidyverse, <span class="at">quietly =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-2"><a href="#cb1-2"></a></span>
<span id="cb1-3"><a href="#cb1-3"></a>mtcars <span class="sc">|&gt;</span></span>
<span id="cb1-4"><a href="#cb1-4"></a>  <span class="fu">group_by</span>(cyl) <span class="sc">|&gt;</span></span>
<span id="cb1-5"><a href="#cb1-5"></a>  <span class="fu">summarize</span>(<span class="at">count =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span></span>
<span id="cb1-6"><a href="#cb1-6"></a>  <span class="fu">rename</span>(<span class="st">"class"</span> <span class="ot">=</span> cyl)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  class count
  &lt;dbl&gt; &lt;int&gt;
1     4    11
2     6     7
3     8    14</code></pre>
</div>
</div>
</div>
</section>

<section id="is-an-r-package-the-answer-to-our-previous-automate-and-sharing-inquiries" class="title-slide slide level2 center">
<h2>Is an <code>R</code> package the answer to our previous <span style="color: purple;">automate</span> and <span style="color: purple;">sharing</span> inquiries?</h2>

</section>

<section id="yes-it-is" class="title-slide slide level2 center">
<h2>Yes, it is!</h2>
<div>
<ul>
<li class="fragment">A published package is crucial in everyday shareable code</li>
<li class="fragment">It encompasses code, data, documentation, and <span style="color: purple;">test functions</span></li>
</ul>
</div>

<img data-src="img/software.png" style="width:5.0%" class="r-stretch quarto-figure-center"></section>

<section id="how-are-r-packages-shared-and-downloaded" class="title-slide slide level2 center">
<h2>How are <code>R</code> packages shared and downloaded?</h2>
<ul>
<li>We have the <a href="https://cran.r-project.org"><strong>Comprehensive R Archive Network (CRAN)</strong></a></li>
</ul>
<div class="fragment">
<blockquote>
<p><em>CRAN is a network of ftp and web servers around the world that store identical, up-to-date, versions of code and documentation for <code>R</code>.</em></p>
</blockquote>
</div>
<div class="fragment">
<ul>
<li>As of today, there are over <span style="color: purple;">20,000 packages available</span> on the CRAN</li>
</ul>
</div>
</section>

<section id="what-will-be-our-learning-goals" class="title-slide slide level2 center">
<h2>What will be our learning goals?</h2>
<div>
<ul>
<li class="fragment">Develop <code>R</code> packages from scratch via a <span style="color: purple;">toy example</span></li>
<li class="fragment">Introduce the concept of <span style="color: purple;">testing</span> to ensure our package coding works as expected</li>
<li class="fragment">Include the corresponding <span style="color: purple;">documentation</span></li>
<li class="fragment">Introduce <span style="color: purple;">continuous integration</span> using <span style="color: purple;">GitHub Actions</span></li>
<li class="fragment">Share and publish packages on <span style="color: purple;">GitHub</span> and <span style="color: purple;">CRAN</span></li>
<li class="fragment">Define <span style="color: purple;">copyright rules</span> when building, sharing, and using packages</li>
<li class="fragment">Choose the most appropriate <span style="color: purple;">license</span></li>
</ul>
</div>
</section>
</section>
<section>
<section id="practice-building-an-r-package" class="title-slide slide level1 center">
<h1>Practice building an <code>R</code> package</h1>

</section>
<section id="attribution" class="title-slide slide level2 center">
<h2>Attribution</h2>
<p><br></p>
<blockquote>
<p>This content has been developed on the basis provided by <a href="https://r-pkgs.org/release.html"><strong>Chapter 1: The Whole Game</strong></a> (<code>R</code> packages book by Hadley Wickham &amp; Jenny Bryan, 2e) and the UBC course notes <a href="https://ubc-dsci.github.io/reproducible-and-trustworthy-workflows-for-data-science/materials/lectures/10-packaging-and-documenting.html#when-to-start-writing-an-r-or-python-package"><strong>Reproducible and Trustworthy Workflows for Data Science</strong></a> by Tiffany Timbers, Joel Östblom, Florencia D’Andrea, and Rodolfo Lourenzutti</p>
</blockquote>
</section>

<section id="toy-package-eda" class="title-slide slide level2 center">
<h2>Toy package: <code>eda</code></h2>
<div>
<ul>
<li class="fragment">Our toy package’s name will be <code>eda</code></li>
<li class="fragment">As discussed earlier, suppose the package’s purpose is to provide data wrangling and summary functions to conduct a proper <span style="color: purple;">exploratory data analysis</span> (hence the name <span style="color: purple;">EDA</span>)</li>
<li class="fragment">We will be switching back and forth between these slides and hands-on practice in <span style="color: purple;"><strong>RStudio</strong></span> via an <code>.R</code> script</li>
</ul>
</div>

<img data-src="img/r-rstudio.png" style="width:10.0%" class="r-stretch quarto-figure-center"></section>

<section id="installing-auxiliary-r-packages" class="title-slide slide level2 center">
<h2>Installing auxiliary <code>R</code> packages</h2>
<div>
<ul>
<li class="fragment">Before starting with the actual process, we need to <span style="color: purple;">install</span> and <span style="color: purple;">load</span> the packages <span style="color: darkblue;">{devtools}</span> and <span style="color: darkblue;">{usethis}</span></li>
<li class="fragment"><span style="color: darkblue;">{devtools}</span> is a meta-package that encompasses more focused development-related <code>R</code> packages</li>
<li class="fragment"><span style="color: darkblue;">{usethis}</span> automates tasks related to <span style="color: purple;">project setup</span> and <span style="color: purple;">development</span> to build <code>R</code> packages</li>
</ul>
</div>

<img data-src="img/usethis-devtools.png" style="width:10.0%" class="r-stretch quarto-figure-center"></section>
<section id="installation-and-loading-code" class="title-slide slide level3 center">
<h3>Installation and loading code</h3>
<ul>
<li>Installing <span style="color: darkblue;">{devtools}</span> automatically installs <span style="color: darkblue;">{usethis}</span></li>
<li>Same situation applies when it come to loading the packages</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" data-code-line-numbers="|1|3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">install.packages</span>(<span class="st">"devtools"</span>)</span>
<span id="cb3-2"><a href="#cb3-2"></a></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="fu">library</span>(devtools)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>


<section id="function-create_package" class="title-slide slide level2 center">
<h2>Function <code>create_package()</code></h2>
<div>
<ul>
<li class="fragment">Function <code>create_package()</code> will <span style="color: purple;">initialize</span> our new package in a directory of our choice</li>
<li class="fragment">I will initialize the <code>eda</code> package in my <code>Desktop</code> folder for easier reference</li>
</ul>
</div>
<div class="fragment">
<div class="callout callout-warning callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Don’ts when choosing your home directory</strong></p>
</div>
<div class="callout-content">
<ul>
<li>Your package shouldn’t be hosted in another RStudio Project, <code>R</code> package, or GitHub repo</li>
<li>Your package shouldn’t be hosted in an <code>R</code> package library (i.e., where we usually instal other packages from CRAN)</li>
</ul>
</div>
</div>
</div>
</div>
</section>
<section id="code" class="title-slide slide level3 center">
<h3>Code</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="fu">create_package</span>(<span class="st">"~/Desktop/eda"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>

<img data-src="img/create_package.png" style="width:8.0%" class="r-stretch quarto-figure-center"></section>

<section id="project-layout-description-ignore-type-files" class="title-slide slide level3 center">
<h3>Project layout description (<code>ignore</code>-type files)</h3>
<div>
<ul>
<li class="fragment"><code>.gitignore</code> is used by GitHub and lists all <span style="color: purple;">“hidden”</span> files created by <code>R</code> and RStudio that aren’t necessary for the repo</li>
<li class="fragment"><code>.Rbuildignore</code> contains all files created via <code>R</code> and RStudio <span style="color: purple;">that won’t be necessary</span> when building our package (e.g., <code>eda.Rproj</code>)</li>
</ul>
</div>
</section>

<section id="project-layout-description-other-components" class="title-slide slide level3 center">
<h3>Project layout description (other components)</h3>
<div>
<ul>
<li class="fragment"><code>DESCRIPTION</code> contains the metadata and dependency installation instructions for our package</li>
<li class="fragment"><code>eda.Rproj</code> is the <span style="color: purple;">RStudio project file</span></li>
<li class="fragment"><code>NAMESPACE</code> contains the package’s functions to export along with imports from other packages</li>
<li class="fragment">An <code>R/</code> directory which will contain <span style="color: purple;">all package’s functions</span> as <code>.R</code> scripts</li>
</ul>
</div>
</section>


<section id="function-use_git" class="title-slide slide level2 center">
<h2>Function <code>use_git()</code></h2>

</section>
</section>
<section>
<section id="ensuring-your-code-works-as-expected-an-introduction-to-testing" class="title-slide slide level1 center">
<h1>Ensuring your code works as expected: an introduction to testing</h1>
<ul>
<li><p>Software tests allow you to demonstrate to yourself and others, that your code works as expected.</p></li>
<li><p>We all test our code informally, what we will talk about here is how to do this more formally so that our testing is reproducible and so we can automate the execution of our tests.</p></li>
</ul>
</section>
<section id="formal-software-tests" class="title-slide slide level2 center">
<h2>Formal software tests</h2>
<p>To make this more concrete, here is an example of a formal software test for the <code>count_classes</code> function from our package:</p>
<p>What does this code do? It:</p>
<ol type="1">
<li>loads the package and testing library</li>
<li>simulates some simple and tractable test data</li>
<li>calls the <code>count_classes</code> function, providing the simple as input</li>
<li>reports that the <code>count_classes</code> function returns a tibble object as expected (and if it doesn’t work as expected, it prints out a useful message as to what went wrong)</li>
</ol>
</section>

<section id="testability" class="title-slide slide level2 center">
<h2>Testability</h2>
<p>Testability is defined as the degree to which a system or component facilitates the establishment of test objectives and the execution of tests to determine whether those objectives have been achieved.</p>
<p>In order to be successful, a test needs to be able to execute the code you wish to test, in a way that can trigger a defect that will propagate an incorrect result to a program point where it can be checked against the expected behaviour. From this we can derive four high-level properties required for effective test writing and execution. These are:</p>
<ul>
<li>controllability</li>
<li>observability</li>
<li>isolateablilty</li>
<li>automatability</li>
</ul>
</section>

<section id="high-level-properties-for-effective-test-writing-and-execution" class="title-slide slide level2 center">
<h2>High-level properties for effective test writing and execution</h2>
<p><strong>controllability</strong>: the code under test needs to be able to be programmatically controlled</p>
<p><strong>observability</strong>: the outcome of the code under test needs to be able to be verified</p>
<p><strong>isolateablilty</strong>: the code under test needs to be able to be validated on its own</p>
<p><strong>automatability</strong>: the tests should be able to be executed automatically</p>
<p>Source: <a href="https://github.com/ubccpsc/310/blob/master/resources/readings/TestabilityAssertions.md">CPSC 310</a> &amp; <a href="https://www.cs.ubc.ca/~rtholmes/teaching/2015t1/cpsc410/slides/410_19_testability.pdf">CPSC 410</a> class notes from Reid Holmes, UBC]</p>
</section>

<section id="what-kinds-of-tests-do-we-write-for-our-functions" class="title-slide slide level2 center">
<h2>What kinds of tests do we write for our functions?</h2>
<p>When I am designing tests for my function, I like to think about three broad categories of tests, and then write 2-3 tests for each (or more if the function is complex and takes many arguments):</p>
<ul>
<li><p>Simple expected use cases</p></li>
<li><p>Edge cases (unexpected, or rare use cases)</p></li>
<li><p>Errors</p></li>
</ul>
<p>We will come back to these and provide specific examples in a few minutes.</p>
</section>

<section id="when-do-we-write-tests" class="title-slide slide level2 center">
<h2>When do we write tests?</h2>
<p>Anytime you think about writing a function!</p>
</section>

<section id="workflow-for-writing-functions-and-tests" class="title-slide slide level2 center">
<h2>Workflow for writing functions and tests</h2>
<ol type="1">
<li><p>Write the function specifications and documentation - but do not implement the function.</p></li>
<li><p>Plan the test cases and document them.</p></li>
<li><p>Create test data that is useful for assessing whether your function works as expected.</p></li>
<li><p>Write the tests to evaluate your function based on the planned test cases and test data.</p></li>
<li><p>Implement the function by writing the needed code in the function body to pass the tests.</p></li>
<li><p>Iterate between steps 2-5 to improve the test coverage and function.</p></li>
</ol>
</section>

<section id="example-of-workflow-for-writing-functions-and-tests-for-data-science" class="title-slide slide level2 center">
<h2>Example of workflow for writing functions and tests for data science</h2>
<p>Let’s pretend we haven’t yet written our <code>count_classes</code> function, and follow the workflow I just outlined to develop our function and it’s test suite.</p>
</section>
<section id="write-the-function-specifications-and-documentation---but-do-not-implement-the-function" class="title-slide slide level3 center">
<h3>1. Write the function specifications and documentation - but do not implement the function</h3>
<p>The first thing we should do is write the function specifications and documentation. This can effectively represented by an empty function and roxygen2-styled documentation in R as shown below:</p>
</section>

<section id="plan-the-test-cases-and-document-them" class="title-slide slide level3 center">
<h3>2. Plan the test cases and document them</h3>
<p>Next, we should plan out our test cases and start to document them.</p>
<p>At this point we can sketch out a skeleton for our test cases with code but we are not yet ready to write them, as we first will need to reproducibly create test data that is useful for assessing whether your function works as expected.</p>
</section>

<section id="plan-the-test-cases-and-document-them-contd" class="title-slide slide level3 center">
<h3>2. Plan the test cases and document them (cont’d)</h3>
<p>So considering our function specifications, some kinds of input we might anticipate our function may receive, and correspondingly what it should return is listed in a table below:</p>
<p>TBD…</p>
</section>

<section id="plan-the-test-cases-and-document-them-contd-1" class="title-slide slide level3 center">
<h3>2. Plan the test cases and document them (cont’d)</h3>
<p>Next, I sketch out a skeleton for the unit tests. For R, we will use the well maintained and popular <a href="https://testthat.r-lib.org/"><code>testthat</code></a> R package for writing our tests.</p>
<p>With <code>testthat</code> we create a <code>test_that</code> statement for each related group of tests for a function. For our example, we will create the four <code>test_that</code> statements shown below:</p>
</section>

<section id="create-test-data-that-is-useful-for-assessing-whether-your-function-works-as-expected" class="title-slide slide level3 center">
<h3>3. Create test data that is useful for assessing whether your function works as expected</h3>
<p>Now that we have a plan, we can create reproducible test data for that plan! When we do this, we want to keep our data as small and tractable as possible. We want to test things we know the answer to, or can at a minimum calculate by hand. We will use R code to reproducibly create the test data. We will need to do this for the data we will feed in as inputs to our function in the tests, as well as the data we expect our function to return.</p>
</section>

<section id="write-the-tests-to-evaluate-your-function-based-on-the-planned-test-cases-and-test-data" class="title-slide slide level3 center">
<h3>4. Write the tests to evaluate your function based on the planned test cases and test data</h3>
<p>Now that we have the skeletons for our tests, and our reproducible test data, we can actually write the internals for our tests! We will do this by using expect_* functions from the testthat package. The table below shows some of the most commonly used expect_* functions. However, there are many more that can be found in the testthat expectations reference documentation.</p>
<p>testthat test structure:</p>
</section>

<section id="write-the-tests-to-evaluate-your-function-based-on-the-planned-test-cases-and-test-data-contd" class="title-slide slide level3 center">
<h3>4. Write the tests to evaluate your function based on the planned test cases and test data (cont’d)</h3>

</section>
<section id="common-expect_-statements-for-use-with-test_that" class="slide level4">
<h4>Common expect_* statements for use with <code>test_that</code>:</h4>
<p>Is the object equal to a value?</p>
<ul>
<li><code>expect_identical</code> - test two objects for being exactly equal</li>
<li><code>expect_equal</code> - compare R objects x and y testing ‘near equality’ (can set a tolerance)</li>
<li><code>expect_equivalent</code> - compare R objects x and y testing ‘near equality’ (can set a tolerance) and does not assess attributes</li>
</ul>
<p>Does code produce an output/message/warning/error?</p>
<ul>
<li><code>expect_error</code> - tests if an expression throws an error</li>
<li><code>expect_warning</code> - tests whether an expression outputs a warning</li>
<li><code>expect_output</code> - tests that print output matches a specified value</li>
</ul>
<p>Is the object true/false?</p>
<p>These are fall-back expectations that you can use when none of the other more specific expectations apply. The disadvantage is that you may get a less informative error message.</p>
<ul>
<li><code>expect_true</code> - tests if the object returns TRUE</li>
<li><code>expect_false</code> - tests if the object returns FALSE</li>
</ul>
<ol start="4" type="1">
<li></li>
</ol>
</section>

<section id="wait-what-most-of-our-tests-fail" class="title-slide slide level3 center">
<h3>Wait what??? Most of our tests fail…</h3>
<p>Yes, we expect that, we haven’t written our function body yet!</p>
</section>

<section id="implement-the-function-by-writing-the-needed-code-in-the-function-body-to-pass-the-tests" class="title-slide slide level3 center">
<h3>5. Implement the function by writing the needed code in the function body to pass the tests</h3>
<p>FINALLY!! We can write the function body for our function! And then call our tests to see if they pass!</p>
</section>

<section id="iterate-between-steps-2-5-to-improve-the-test-coverage-and-function" class="title-slide slide level3 center">
<h3>6. Iterate between steps 2-5 to improve the test coverage and function</h3>
<p>Are we done? For the purposes of this demo, yes! However in practice you would usually cycle through steps 2-5 two-three more times to further improve our tests and and function</p>
</section>


<section id="where-do-the-function-and-test-files-go" class="title-slide slide level2 center">
<h2>Where do the function and test files go?</h2>
<p>In the workflow above, we skipped over where we should put our tests and how to call them in an automated way.</p>
<p>Let’s go to this version of the <code>eda</code> package and explore how to do this:</p>
<ul>
<li>TBD</li>
</ul>
</section>
</section>
<section id="package-documentation" class="title-slide slide level1 center">
<h1>Package documentation</h1>

</section>

<section id="introduction-to-continuous-integration-using-github-actions" class="title-slide slide level1 center">
<h1>Introduction to continuous integration using GitHub Actions</h1>

</section>

<section>
<section id="publishing-your-r-package" class="title-slide slide level1 center">
<h1>Publishing your R package</h1>

</section>
<section id="section" class="title-slide slide level2 center">
<h2></h2>
<p><img data-src="img/package_distribution.png"> <em>Source: <a href="https://posit-conf-2023.github.io/pkg-dev/materials/slides.pdf" class="uri">https://posit-conf-2023.github.io/pkg-dev/materials/slides.pdf</a></em>}</p>
</section>

<section id="level-1-publishing-on-github" class="title-slide slide level2 center">
<h2>Level 1: Publishing on GitHub</h2>
<ul>
<li><p>GitHub is where almost all R packages start out publishing, and continue publishing development versions between releases.</p></li>
<li><p>For this to work, you need to push your package code to GitHub and provide users instructions like this to download, build and install your package:</p></li>
</ul>
<pre><code># install.packages("devtools")
devtools::install_github("username/package")</code></pre>
</section>

<section id="level-2-publishing-on-cran" class="title-slide slide level2 center">
<h2>Level 2: Publishing on CRAN</h2>
<ul>
<li>CRAN (founded in 1997) stands for the “Comprehensive R Archive Network”.</li>
<li>CRAN is a collection of sites which host identical copies of:
<ul>
<li>R distribution(s)</li>
<li>the contributed extensions (i.e., packages)</li>
<li>documentation for R</li>
<li>binaries (i.e., packages)</li>
</ul></li>
</ul>
<p><em>Source: Hornik, K (2012). The Comprehensive R Archive Network. Wiley interdisciplinary reviews. Computational statistics. 4(4): 394-398. doi:10.1002/wics.1212</em></p>
</section>

<section id="what-does-it-mean-to-be-a-cran-package" class="title-slide slide level2 center">
<h2>What does it mean to be a CRAN package?</h2>
<div>
<ul>
<li class="fragment"><p>A stamp of authenticity: passed quality control of the check utility</p></li>
<li class="fragment"><p>Ease of installation: can be installed by users via <code>install.packages()</code> and binaries are available for Windows &amp; Mac OS’s.</p></li>
<li class="fragment"><p>Discoverability: listed as a package on CRAN</p></li>
<li class="fragment"><p>However, CRAN makes no assertions about the package’s usability, or the efficiency and correctness of the computations it performs</p></li>
</ul>
</div>
</section>

<section id="how-to-submit-a-package-to-cran" class="title-slide slide level2 center">
<h2>How to submit a package to CRAN</h2>
<div>
<ol type="1">
<li class="fragment"><p>Pick a version number.</p></li>
<li class="fragment"><p>Run and document R CMD check.</p></li>
<li class="fragment"><p>Check that you’re aligned with CRAN policies.</p></li>
<li class="fragment"><p>Update README.md and NEWS.md.</p></li>
<li class="fragment"><p>Submit the package to CRAN.</p></li>
<li class="fragment"><p>Prepare for the next version by updating version numbers.</p></li>
<li class="fragment"><p>Publicise the new version.</p></li>
</ol>
</div>
<p><em>Source: <a href="https://r-pkgs.org/release.html">Chapter 22: Releasing to Cran</a> - R packages book by Hadley Wickham &amp; Jenny Bryan</em></p>
</section>

<section id="notes-on-submitting-to-cran" class="title-slide slide level2 center">
<h2>Notes on submitting to CRAN</h2>
<ul>
<li><p>Your package must pass <code>R CMD check</code> with the current development version of R.</p></li>
<li><p>It must work on at least two platforms (CRAN uses the following 4 platforms: Windows, Mac OS X, Linux and Solaris) - use GitHub Actions to ensure this before submitting to CRAN!</p></li>
</ul>
<blockquote>
<p>If you decide to submit a package to CRAN, follow the detailed instructions in <a href="https://r-pkgs.org/release.html">Chapter 22: Releasing to Cran</a> from the R packages book by Hadley Wickham &amp; Jenny Bryan.</p>
</blockquote>
</section>
</section>
<section>
<section id="copyright-licenses-who-owns-the-code" class="title-slide slide level1 center">
<h1>Copyright &amp; Licenses (who owns the code?)</h1>

</section>
<section id="full-disclosure-i-am-not-a-lawyer" class="title-slide slide level2 center">
<h2>Full disclosure… I AM NOT A LAWYER!</h2>

</section>

<section id="learning-objectives" class="title-slide slide level2 center">
<h2>Learning Objectives</h2>
<div>
<ul>
<li class="fragment">Explain who owns the copyright of code they write in a give situation</li>
<li class="fragment">Choose an appropriate license for software (and non-software) materials</li>
<li class="fragment"><em>Note: In this workshop, we will be focusing on Canadian copyright laws</em></li>
</ul>
</div>
</section>

<section id="copyright-law" class="title-slide slide level2 center">
<h2>Copyright Law</h2>
<ul>
<li><p>In both the US and Canada, software code falls under copyright law</p></li>
<li><p>Copyright protects only the language and words used to express ideas, concepts and themes, not the ideas, concepts or themes themselves.</p></li>
</ul>
</section>
<section class="slide level4">

<ul>
<li>Knowing who owns the copyright of software code is critical because the owner controls if and how the code may be:
<ul>
<li>copied</li>
<li>distributed</li>
<li>sold</li>
<li>modified</li>
<li>essentially, made profitable 💲💲</li>
</ul></li>
</ul>
</section>

<section id="canadian-copyright-law" class="title-slide slide level2 center">
<h2>Canadian Copyright Law</h2>
<p>In Canada, the copyright owner is afforded the following rights:</p>
<ul>
<li>Economic rights:
<ul>
<li>the right to produce, reproduce, publish, translate, authorize &amp; convert a work</li>
</ul></li>
</ul>
</section>
<section class="slide level4">

<ul>
<li><p>Moral rights:</p>
<ul>
<li>the right to claim authorship, the right to remain anonymous, or the right to use a pseudonym or pen name</li>
<li>the right to integrity</li>
<li>the right of association</li>
</ul></li>
</ul>
<blockquote>
<p><strong>Economic rights</strong> can be transferred to entities that are not the author, whereas <strong>moral rights</strong> cannot (they can however, be waived).</p>
</blockquote>
</section>

<section id="who-has-copyright-ownership" class="title-slide slide level2 center">
<h2>Who has copyright ownership?</h2>
<p>This is a complicated question, and the answer starts with it depends on the case…</p>

<img data-src="img/lightbulb.jpg" class="r-stretch"></section>

<section id="case-i-you-author-the-code-for-yourself" class="title-slide slide level2 center">
<h2>Case I: You author the code for yourself</h2>
<ul>
<li><p>You author the code and you are doing this for <strong>yourself</strong> (i.e., not for your employer, not for a client, etc).</p></li>
<li><p>In such a case, you (the person who typed the code) automatically become the copyright owner.</p></li>
</ul>
</section>

<section id="section-1" class="title-slide slide level2 center">
<h2></h2>
<ul>
<li><p>In both Canada and the USA, you do not need to need to affix the copyright symbol © to your work (some other countries do require this however).</p></li>
<li><p>Although the copyright symbol © is not required, it is often used in copyrighted works to clearly identify that the code is protected by copyright.</p></li>
</ul>
<blockquote>
<p>In both Canada and the US, it is possible (and advisable) to register your copyright as evidence that a copyright exists and who the owner is.</p>
</blockquote>
</section>

<section id="case-ii-you-write-the-code-in-the-course-of-employment" class="title-slide slide level2 center">
<h2>Case II: You write the code in the course of employment</h2>
<ul>
<li>In Canada, if you write code for work as an employee the copyright ownership is typically assigned to <strong>the employer</strong>.</li>
</ul>
</section>

<section id="section-2" class="title-slide slide level2 center">
<h2></h2>
<ul>
<li>In the Canada, software code is defined as “work made in the course of employment” if:</li>
</ul>
<blockquote>
<p>The author of the code was in the employment <strong>of</strong> some other entity under a contract of service or apprenticeship and the code was written in the course of their employment by that entity. And there exists no agreement (written, or otherwise, and even potentially even presumed) that the employee retains ownership of copyright for the code written during the term of their employment.</p>
</blockquote>
</section>
<section class="slide level4">

<ul>
<li><p>Work made in the course of employment is different than a contract <strong>for</strong> services (in which the author of the code acts more like an independent consultant, and in such a case it does not appear that “work made in the course of employment” would apply).</p></li>
<li><p>In this case, the default position is usually that the <strong>contractor retains copyright ownership</strong> of the work they create, unless the contract specifically assigns copyright to the client.</p></li>
</ul>
</section>

<section id="implications-when-you-forgo-copyright-ownership" class="title-slide slide level2 center">
<h2>Implications when you forgo copyright ownership</h2>
<ul>
<li><p>Q: What if you forgo copyright ownership and want to use any of the code that you wrote again?</p></li>
<li><p>A: You would need to negotiate a licence to use the code you wrote, the same way any other third-party would… 😓</p></li>
</ul>
</section>

<section id="section-3" class="title-slide slide level2 center">
<h2></h2>
<p>To avoid this issue, you could:</p>
<ul>
<li><p>Negotiate which code is core to the work (“work-made-for-hire”) and what (pre-built) code (e.g., packages, scripts) are outside the core work and should not (<em>at the beginning of the project!</em>).</p></li>
<li><p>Negotiate that the client purchase a license to the code you write (as opposed to hiring you to write the code).</p></li>
</ul>
</section>

<section id="licenses" class="title-slide slide level2 center">
<h2>Licenses</h2>
<ul>
<li><p>If you publicly share your creative work (i.e., software code), you should let others know if and how they can reuse it!</p></li>
<li><p>This is done via the inclusion of a <code>LICENSE</code> or <code>LICENSE.txt</code> file in the base directory of the repository that clearly states under which license the content is being made available.</p></li>
</ul>
</section>

<section id="licenses-contd" class="title-slide slide level2 center">
<h2>Licenses (cont’d)</h2>
<ul>
<li><p>Unless you include a license that specifies otherwise, nobody else can copy, distribute, or modify your work without being at risk of take-downs, shake-downs, or litigation.</p></li>
<li><p>Once the work has other contributors (each a copyright holder), “nobody” starts including you!</p></li>
<li><p>A license solves this problem by granting rights to others (the licensees) that they would otherwise not have.</p></li>
</ul>
</section>

<section id="choosing-a-license" class="title-slide slide level2 center">
<h2>Choosing a License</h2>
<p>Important considerations when choosing a license include:</p>
<ul>
<li><p>Whether you require people distributing derivative works to also require others to distribute their derivative works in the same way.</p></li>
<li><p>Whether the content you are licensing is source code, and if it is, whether you want to require that derivatives of your work share the source code</p></li>
</ul>
</section>

<section id="choosing-a-license-contd" class="title-slide slide level2 center">
<h2>Choosing a License (cont’d)</h2>
<ul>
<li><p>In practice, a few licenses are by far the most popular.</p></li>
<li><p><a href="choosealicense.com">choosealicense.com</a> will help you find a common license that suits your needs.</p></li>
</ul>
<blockquote>
<p>💡Tip: Choose a license that is in common use! This makes life easier for contributors and users, because they are more likely to already be familiar with the license and don’t have to wade through a bunch of jargon to decide if they’re ok with it.</p>
</blockquote>
</section>

<section id="case-study-which-license-should-i-choose" class="title-slide slide level2 center">
<h2>Case Study: Which license should I choose?</h2>
<p>Imagine you’re a data scientist working for an environmental organization and you developed a tool that analyzes satellite imagery to track deforestation patterns. Your primary goal is to make this tool freely available to researchers and other conservationists to help monitor and combat deforestation, but you still want to retain the copyright to your tool.</p>
</section>

<section id="creative-commons" class="title-slide slide level2 center">
<h2>Creative Commons</h2>
<ul>
<li><p>But not all my creative Data Science work is code (e.g.&nbsp;visualizations, reports, presentations), so how do I license it?</p></li>
<li><p>The <strong>Creative Commons</strong> licences were created for such works and they are now widely used in academia and the publishing industry.</p></li>
</ul>
<blockquote>
<p><a href="https://chooser-beta.creativecommons.org/" class="uri">https://chooser-beta.creativecommons.org/</a></p>
</blockquote>
</section>

<section id="creative-commons-contd" class="title-slide slide level2 center">
<h2>Creative Commons (cont’d)</h2>

<img data-src="img/CC1.jpg" class="r-stretch"><p><em>Source: “How to License Poster” by Creative Commons is licensed under CC BY 4.0</em></p>
</section>

<section id="creative-commons-contd-1" class="title-slide slide level2 center">
<h2>Creative Commons (cont’d)</h2>

<img data-src="img/CC2.jpg" class="r-stretch"><p><em>Source: “How to License Poster” by Creative Commons is licensed under CC BY 4.0</em></p>
</section>

<section id="references" class="title-slide slide level2 center">
<h2>References</h2>
<ul>
<li><p><a href="https://asp-software.org/www/misv_resources/business-articles/who-owns-the-code/">Who Owns The Code?</a></p></li>
<li><p><a href="https://www.ualberta.ca/faculty-and-staff/copyright/intro-to-copyright-law/canadian-copyright-law.html">Canadian Copyright Law - University of Alberta</a></p></li>
<li><p><a href="https://www.smartbiggar.ca/insights/publication/do-you-actually-own-the-ip-generated-by-your-canadian-employees-">Do you actually own the IP generated by your Canadian employees?</a></p></li>
<li><p><a href="https://laws-lois.justice.gc.ca/eng/acts/C-42/page-4.html#h-102834">Ownership of Copyright - Canadian Copyright Act</a></p></li>
<li><p><a href="https://www.rosenlaw.com/html/GPL.pdf">The Unreasonable Fear of Infection</a></p></li>
<li><p><a href="https://www.gnu.org/licenses/gpl-faq.en.html">Frequently Asked Questions about the GNU Licenses</a></p></li>
</ul>
<div class="footer footer-default">

</div>
</section>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="ssc-workshop-2024_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="ssc-workshop-2024_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="ssc-workshop-2024_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="ssc-workshop-2024_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="ssc-workshop-2024_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="ssc-workshop-2024_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="ssc-workshop-2024_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="ssc-workshop-2024_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="ssc-workshop-2024_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="ssc-workshop-2024_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>